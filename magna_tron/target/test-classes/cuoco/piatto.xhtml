<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Piatto</title>
    </h:head>
    
<div id="pageHeader">
        <ui:insert name="navBar">
            <ui:include src="pageHeader.xhtml"/>
        </ui:insert>
 </div>
    
    
    
    
    <h:body>
        <h:form>
            <h:outputText value="Nome del piatto" />
            <h:inputText id="nome" value="#{piatti.nomePiatto}"></h:inputText>
            <h:message for="nome"></h:message>
            <h:selectOneMenu value="#{piatti.portataPiatto}" >
                 <f:selectItems value="#{piatti.portata}" />
            </h:selectOneMenu>
            <h:commandButton value="cerca"></h:commandButton>
        </h:form>
            	<h:dataTable value="#{piatti.listaPiatti}" var="p"
                             styleClass="table"
                             headerClass="table-header"
                             rowClasses="table-row">

    			<h:column>
    				<!-- column header -->
    				<f:facet name="header">Nome</f:facet>
    				<!-- row record -->
    				#{p.nome}
    			</h:column>

    			<h:column>
    				<f:facet name="header">Prezzo</f:facet>
    				#{p.prezzo}
    			</h:column>

    			<h:column>
    				<f:facet name="header">Descrizione</f:facet>
    				#{p.descrizione}
    			</h:column>
    		</h:dataTable>
        

        <h:form>
            <h3>Creazione Piatto</h3>
            <h:outputText value="Nome del piatto" />
            <h:inputText id="nome" value="#{piatti.newNomePiatto}" 
                         validatorMessage="#{msgIT['piattoValidation.nome']}">
                <f:validateLength minimum="1"/>
            </h:inputText>    
            <h:message for="nome" styleClass="validationError"></h:message>
            <br></br><br></br>
            
            <h:selectOneMenu value="#{piatti.newPortataPiatto}" >
                 <f:selectItems value="#{piatti.portata}" />
            </h:selectOneMenu>
            <br></br><br></br>
            
            <h:outputText value="Prezzo" />
            <h:inputText id="prezzo" value="#{piatti.newPrezzo}" 
                         validatorMessage="#{msgIT['piattoValidation.prezzo']}">
                <f:validateDoubleRange minimum="0.1"/>
            </h:inputText>
            <h:message for="prezzo" styleClass="validationError"></h:message>
            <br></br><br></br>
            
            <h:outputText value="Descrizione" />
            <h:inputText id="descrizione" value="#{piatti.newDescrizione}"
                         validatorMessage="#{msgIT['piattoValidation.descrizione']}">
                <f:validateLength minimum="1"/>
            </h:inputText>
            <h:message for="descrizione" styleClass="validationError"></h:message>
            <br></br><br></br>
            
            
            <h:commandButton value="salva"
                             action="#{piatti.createPiatto}"></h:commandButton>
        </h:form>
        
    </h:body>
</html>

